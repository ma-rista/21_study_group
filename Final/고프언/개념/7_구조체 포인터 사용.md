# Structure && Pointer

## π¤·β€β™‚οΈ μ‚¬μ© μ΄μ 

> - κµ¬μ΅°μ²΄λ” λ©¤λ²„ λ³€μκ°€ λ“¤μ–΄μμ–΄ ν¬κΈ°κ°€ ν° νΈ<br>
> - ν¬μΈν„°μ— λ©”λ¨λ¦¬ ν• λ‹Ήν•΄μ„ μ‚¬μ©ν•λ” νΈμ΄ ν¨μ¨μ <br>

## μ„ μ–Έ

```c
*struct κµ¬μ΅°μ²΄μ΄λ¦„ *ν¬μΈν„°μ΄λ¦„ = malloc(sizeof(struct κµ¬μ΅°μ²΄μ΄λ¦„));
```

### μμ 

```c
#include <stdio.h>
#include <string.h> // strcpy ν•¨μκ°€ μ„ μ–Έλ ν—¤λ” νμΌ
#include <stdlib.h> // malloc, free ν•¨μκ°€ μ„ μ–Έλ ν—¤λ”νμΌ

struct Person {           //κµ¬μ΅°μ²΄ μ •μ
    char name[20];        //κµ¬μ΅°μ²΄ λ©¤λ²„ 1
    int age;              //κµ¬μ΅°μ²΄ λ©¤λ²„ 2
    char address[100];    //κµ¬μ΅°μ²΄ λ©¤λ²„ 3
};

int main()
{
    struct Person *p1 = malloc(sizeof(struct Person)); // κµ¬μ΅°μ²΄ ν¬μΈν„° μ„ μ–Έ, λ©”λ¨λ¦¬ ν• λ‹Ή

    strcpy(p1->name,"ν™κΈΈλ™");
    p1->age = 30;
    strcpy(p1->address, "μ„μΈμ‹ μ©μ‚°κµ¬ ν•λ‚¨λ™");

    //ν™”μ‚΄ν‘ μ—°μ‚°μλ΅ κµ¬μ΅°μ²΄ λ©¤λ²„μ— μ ‘κ·Όν•μ—¬ κ°’ μ¶λ ¥
    printf("μ΄λ¦„: %s\n", p1->name);
    printf("λ‚μ΄: %s\n", p1->age);
    printf("μ΄λ¦„: %s\n", p1->name);

    free(p1); // λ™μ λ©”λ¨λ¦¬ ν•΄μ 

    return 0;
}
```

### λ¶„μ„

1. `struct Person *p1`κ³Ό κ°™μ΄ `struct`ν‚¤μ›λ“μ™€ κµ¬μ΅°μ²΄ μ΄λ¦„μ„ μ‚¬μ©ν•μ—¬ κµ¬μ΅°μ²΄ ν¬μΈν„° μ‚¬μ©
   - malloc ν•¨μλ΅ λ©”λ¨λ¦¬ ν• λ‹Ήν• λ• ν¬κΈ°λ¥Ό μ•μ•„μ•Ό ν•λ―€λ΅ `sizeof(struct Person)`κ³Ό κ°™μ΄ κµ¬μ΅°μ²΄ ν¬κΈ°λ¥Ό κµ¬ν•μ—¬ μ¤€λ‹¤.
2. κµ¬μ΅°μ²΄ λ©¤λ²„ μ ‘κ·Ό λ°©λ²• = `->(ν™”μ‚΄ν‘ μ—°μ‚°μ)`λ¥Ό μ‚¬μ©ν•λ‹¤. 
3. κµ¬μ΅°μ²΄ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•  λ• `malloc -> μ‚¬μ© -> free`ν¨ν„΄


## κµ¬μ΅°μ²΄ λ³„μΉ­μΌλ΅ ν¬μΈν„΄ μ„ μ–Έ, λ©”λ¨λ¦¬ ν• λ‹Ή
### μ‚¬μ©μμ 
```c
#include <stdio.h>
#include <string.h> // strcpy ν•¨μκ°€ μ„ μ–Έλ ν—¤λ” νμΌ
#include <stdlib.h>

typefo struct _Person {
    char name[20];
    int age;
    char address[100];
} Person;

int main()
{
    Person *p1 = malloc(sizeof(Person)); //κµ¬μ΅°μ²΄ λ³„μΉ­μΌλ΅ ν¬μΈν„° μ„ μ–Έ, λ©”λ¨λ¦¬ ν• λ‹Ή
    strcpy(p1->name, "ν™κΈΈλ™");
    p1->age = 30;
    strcpy(p1->address, "μ„μΈμ‹ μ©μ‚°κµ¬ ν•λ‚¨λ™");

    // ν™”μ‚΄ν‘ μ—°μ‚°μλ΅ κµ¬μ΅°μ²΄ λ©¤λ²„μ— μ ‘κ·Όν•μ—¬ κ°’ μ¶λ ¥
    printf("μ΄λ¦„: %s\n", p1->name);       // ν™κΈΈλ™
    printf("λ‚μ΄: %d\n", p1->age);        // 30
    printf("μ£Όμ†: %s\n", p1->address);    // μ„μΈμ‹ μ©μ‚°κµ¬ ν•λ‚¨λ™

    free(p1);    // λ™μ  λ©”λ¨λ¦¬ ν•΄μ 

    return 0;
}
``` 
### μ½”λ“ν•΄μ„¤
- `Person *p1`κ³Ό κ°™μ΄ κµ¬μ΅°μ²΄ λ³„μΉ­μΌλ΅ ν¬μΈν„° μ„ μ–Έ λ’¤ `malloc`ν•¨μλ΅ λ©”λ¨λ¦¬ ν• λ‹Ή